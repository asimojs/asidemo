(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const rn="modulepreload",on=function(e){return"/"+e},tt={},Be=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=on(o),o in tt)return;tt[o]=!0;const a=o.endsWith(".css"),f=a?'[rel="stylesheet"]':"";if(!!r)for(let s=i.length-1;s>=0;s--){const y=i[s];if(y.href===o&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":rn,a||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),a)return new Promise((s,y)=>{p.addEventListener("load",s),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};var Te,N,It,le,nt,kt,ze,xe={},Nt=[],sn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Je=Array.isArray;function se(e,t){for(var n in t)e[n]=t[n];return e}function Tt(e){var t=e.parentNode;t&&t.removeChild(e)}function Ce(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Te.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return $e(e,a,r,i,null)}function $e(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++It};return i==null&&N.vnode!=null&&N.vnode(o),o}function Ee(e){return e.children}function Se(e,t){this.props=e,this.context=t}function de(e,t){if(t==null)return e.__?de(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?de(e):null}function Et(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Et(e)}}function rt(e){(!e.__d&&(e.__d=!0)&&le.push(e)&&!Ie.__r++||nt!==N.debounceRendering)&&((nt=N.debounceRendering)||kt)(Ie)}function Ie(){var e,t,n,r,i,o,a,f;for(le.sort(ze);e=le.shift();)e.__d&&(t=le.length,r=void 0,i=void 0,a=(o=(n=e).__v).__e,(f=n.__P)&&(r=[],(i=se({},o)).__v=o.__v+1,qe(f,o,i,n.__n,f.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??de(o),o.__h),Lt(r,o),o.__e!=a&&Et(o)),le.length>t&&le.sort(ze));Ie.__r=0}function jt(e,t,n,r,i,o,a,f,u,p){var s,y,v,h,m,I,S,x=r&&r.__k||Nt,H=x.length;for(n.__k=[],s=0;s<t.length;s++)if((h=n.__k[s]=(h=t[s])==null||typeof h=="boolean"||typeof h=="function"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?$e(null,h,null,null,h):Je(h)?$e(Ee,{children:h},null,null,null):h.__b>0?$e(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(v=x[s])===null||v&&h.key==v.key&&h.type===v.type)x[s]=void 0;else for(y=0;y<H;y++){if((v=x[y])&&h.key==v.key&&h.type===v.type){x[y]=void 0;break}v=null}qe(e,h,v=v||xe,i,o,a,f,u,p),m=h.__e,(y=h.ref)&&v.ref!=y&&(S||(S=[]),v.ref&&S.push(v.ref,null,h),S.push(y,h.__c||m,h)),m!=null?(I==null&&(I=m),typeof h.type=="function"&&h.__k===v.__k?h.__d=u=Dt(h,u,e):u=Ot(e,h,v,x,m,u),typeof n.type=="function"&&(n.__d=u)):u&&v.__e==u&&u.parentNode!=e&&(u=de(v))}for(n.__e=I,s=H;s--;)x[s]!=null&&(typeof n.type=="function"&&x[s].__e!=null&&x[s].__e==n.__d&&(n.__d=At(r).nextSibling),Ht(x[s],x[s]));if(S)for(s=0;s<S.length;s++)Rt(S[s],S[++s],S[++s])}function Dt(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t=typeof r.type=="function"?Dt(r,t,n):Ot(n,r,r,i,r.__e,t));return t}function Ot(e,t,n,r,i,o){var a,f,u;if(t.__d!==void 0)a=t.__d,t.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(i),a=null;else{for(f=o,u=0;(f=f.nextSibling)&&u<r.length;u+=1)if(f==i)break e;e.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function At(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=At(n)))return r}return null}function cn(e,t,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in t||ke(e,o,null,n[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||ke(e,o,t[o],n[o],r)}function ot(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||sn.test(t)?n:n+"px"}function ke(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ot(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ot(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?st:it,o):e.removeEventListener(t,o?st:it,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function it(e){return this.l[e.type+!1](N.event?N.event(e):e)}function st(e){return this.l[e.type+!0](N.event?N.event(e):e)}function qe(e,t,n,r,i,o,a,f,u){var p,s,y,v,h,m,I,S,x,H,B,F,Y,G,K,k=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,f=t.__e=n.__e,t.__h=null,o=[f]),(p=N.__b)&&p(t);try{e:if(typeof k=="function"){if(S=t.props,x=(p=k.contextType)&&r[p.__c],H=p?x?x.props.value:p.__:r,n.__c?I=(s=t.__c=n.__c).__=s.__E:("prototype"in k&&k.prototype.render?t.__c=s=new k(S,H):(t.__c=s=new Se(S,H),s.constructor=k,s.render=ln),x&&x.sub(s),s.props=S,s.state||(s.state={}),s.context=H,s.__n=r,y=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),k.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=se({},s.__s)),se(s.__s,k.getDerivedStateFromProps(S,s.__s))),v=s.props,h=s.state,s.__v=t,y)k.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(k.getDerivedStateFromProps==null&&S!==v&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(S,H),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(S,s.__s,H)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(s.props=S,s.state=s.__s,s.__d=!1),s.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(R){R&&(R.__=t)}),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[],s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(S,s.__s,H),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(v,h,m)})}if(s.context=H,s.props=S,s.__P=e,F=N.__r,Y=0,"prototype"in k&&k.prototype.render){for(s.state=s.__s,s.__d=!1,F&&F(t),p=s.render(s.props,s.state,s.context),G=0;G<s._sb.length;G++)s.__h.push(s._sb[G]);s._sb=[]}else do s.__d=!1,F&&F(t),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Y<25);s.state=s.__s,s.getChildContext!=null&&(r=se(se({},r),s.getChildContext())),y||s.getSnapshotBeforeUpdate==null||(m=s.getSnapshotBeforeUpdate(v,h)),jt(e,Je(K=p!=null&&p.type===Ee&&p.key==null?p.props.children:p)?K:[K],t,n,r,i,o,a,f,u),s.base=t.__e,t.__h=null,s.__h.length&&a.push(s),I&&(s.__E=s.__=null),s.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=an(n.__e,t,n,r,i,o,a,u);(p=N.diffed)&&p(t)}catch(R){t.__v=null,(u||o!=null)&&(t.__e=f,t.__h=!!u,o[o.indexOf(f)]=null),N.__e(R,t,n)}}function Lt(e,t){N.__c&&N.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){N.__e(r,n.__v)}})}function an(e,t,n,r,i,o,a,f){var u,p,s,y=n.props,v=t.props,h=t.type,m=0;if(h==="svg"&&(i=!0),o!=null){for(;m<o.length;m++)if((u=o[m])&&"setAttribute"in u==!!h&&(h?u.localName===h:u.nodeType===3)){e=u,o[m]=null;break}}if(e==null){if(h===null)return document.createTextNode(v);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,v.is&&v),o=null,f=!1}if(h===null)y===v||f&&e.data===v||(e.data=v);else{if(o=o&&Te.call(e.childNodes),p=(y=n.props||xe).dangerouslySetInnerHTML,s=v.dangerouslySetInnerHTML,!f){if(o!=null)for(y={},m=0;m<e.attributes.length;m++)y[e.attributes[m].name]=e.attributes[m].value;(s||p)&&(s&&(p&&s.__html==p.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(cn(e,v,y,i,f),s)t.__k=[];else if(jt(e,Je(m=t.props.children)?m:[m],t,n,r,i&&h!=="foreignObject",o,a,o?o[0]:n.__k&&de(n,0),f),o!=null)for(m=o.length;m--;)o[m]!=null&&Tt(o[m]);f||("value"in v&&(m=v.value)!==void 0&&(m!==e.value||h==="progress"&&!m||h==="option"&&m!==y.value)&&ke(e,"value",m,y.value,!1),"checked"in v&&(m=v.checked)!==void 0&&m!==e.checked&&ke(e,"checked",m,y.checked,!1))}return e}function Rt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){N.__e(r,n)}}function Ht(e,t,n){var r,i;if(N.unmount&&N.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Rt(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){N.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Ht(r[i],t,n||typeof e.type!="function");n||e.__e==null||Tt(e.__e),e.__=e.__e=e.__d=void 0}function ln(e,t,n){return this.constructor(e,n)}function un(e,t,n){var r,i,o;N.__&&N.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],qe(t,e=(!r&&n||t).__k=Ce(Ee,null,[e]),i||xe,xe,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?Te.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),Lt(o,e)}Te=Nt.slice,N={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(f){e=f}throw e}},It=0,Se.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=se({},this.state),typeof e=="function"&&(e=e(se({},n),this.props)),e&&se(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),rt(this))},Se.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rt(this))},Se.prototype.render=Ee,le=[],kt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ze=function(e,t){return e.__v.__b-t.__v.__b},Ie.__r=0;function ie(e){return{ns:e}}const ct="service:",at="object:",Ae="group:",Le=Promise.resolve(null);function Vt(e){let t=0;const n=new Map,r=new Map,i={registerService(f,u){n.set(ct+f.ns,u)},registerFactory(f,u){n.set(at+f.ns,u)},registerGroup(f,u){const p=Ae+ ++t,s=()=>{let y=r.get(p);return y||(y=a(u),r.set(p,y),y)};for(const y of f)n.set(Ae+y.ns,s)},get(...f){if(f.length===1){const u=f[0];return o(typeof u=="string"?u:u.ns)}return Promise.all(f.map(u=>o(typeof u=="string"?u:u.ns)))},createChildContext(){return Vt(i)}};return i;function o(f,u=!0){const p=ct+f,s=r.get(p);if(s!==void 0)return s;const y=n.get(p);if(y){let v=a(y),h;const m=new Promise(I=>{h=I});return v.then(I=>{I&&(typeof I=="object"||typeof I=="function")?(r.set(p,I),h(I)):(r.set(p,Le),h(null))}),r.set(p,m),m}else{const v=n.get(at+f);if(v)return a(v);if(u){const h=n.get(Ae+f);if(h)return a(h).then(()=>o(f,!1))}if(e)return e.get(f)}return Le}function a(f){let u=f();return u&&(typeof u=="object"||typeof u=="function")?typeof u.then!="function"&&(u=Promise.resolve(u)):u=Le,u}}const re=Vt(),Ut=ie("asidemo.services.NavService"),fn=ie("asidemo.services.FetchService"),_n=ie("asidemo.services.TeamStore"),dn=ie("asidemo.services.TasksStore");var pe,z,Re,lt,Ne=0,Mt=[],we=[],ut=N.__b,ft=N.__r,_t=N.diffed,dt=N.__c,pt=N.unmount;function Ke(e,t){N.__h&&N.__h(z,e,Ne||t),Ne=0;var n=z.__H||(z.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:we}),n.__[e]}function pn(e){return Ne=1,hn(Gt,e)}function hn(e,t,n){var r=Ke(pe++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Gt(void 0,t),function(f){var u=r.__N?r.__N[0]:r.__[0],p=r.t(u,f);u!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=z,!z.u)){var i=function(f,u,p){if(!r.__c.__H)return!0;var s=r.__c.__H.__.filter(function(v){return v.__c});if(s.every(function(v){return!v.__N}))return!o||o.call(this,f,u,p);var y=!1;return s.forEach(function(v){if(v.__N){var h=v.__[0];v.__=v.__N,v.__N=void 0,h!==v.__[0]&&(y=!0)}}),!(!y&&r.__c.props===f)&&(!o||o.call(this,f,u,p))};z.u=!0;var o=z.shouldComponentUpdate,a=z.componentWillUpdate;z.componentWillUpdate=function(f,u,p){if(this.__e){var s=o;o=void 0,i(f,u,p),o=s}a&&a.call(this,f,u,p)},z.shouldComponentUpdate=i}return r.__N||r.__}function zt(e,t){var n=Ke(pe++,3);!N.__s&&Wt(n.__H,t)&&(n.__=e,n.i=t,z.__H.__h.push(n))}function Ft(e){return Ne=5,vn(function(){return{current:e}},[])}function vn(e,t){var n=Ke(pe++,7);return Wt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function yn(){for(var e;e=Mt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pe),e.__H.__h.forEach(Fe),e.__H.__h=[]}catch(t){e.__H.__h=[],N.__e(t,e.__v)}}N.__b=function(e){z=null,ut&&ut(e)},N.__r=function(e){ft&&ft(e),pe=0;var t=(z=e.__c).__H;t&&(Re===z?(t.__h=[],z.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=we,n.__N=n.i=void 0})):(t.__h.forEach(Pe),t.__h.forEach(Fe),t.__h=[],pe=0)),Re=z},N.diffed=function(e){_t&&_t(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Mt.push(t)!==1&&lt===N.requestAnimationFrame||((lt=N.requestAnimationFrame)||mn)(yn)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==we&&(n.__=n.__V),n.i=void 0,n.__V=we})),Re=z=null},N.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Pe),n.__h=n.__h.filter(function(r){return!r.__||Fe(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],N.__e(r,n.__v)}}),dt&&dt(e,t)},N.unmount=function(e){pt&&pt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Pe(r)}catch(i){t=i}}),n.__H=void 0,t&&N.__e(t,n.__v))};var ht=typeof requestAnimationFrame=="function";function mn(e){var t,n=function(){clearTimeout(r),ht&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ht&&(t=requestAnimationFrame(n))}function Pe(e){var t=z,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),z=t}function Fe(e){var t=z;e.__c=e.__(),z=t}function Wt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Gt(e,t){return typeof t=="function"?t(e):t}let _e;function vt(e){e.value=null,e.next=_e,_e=e}function yt(e,t){if(_e){const n=_e;return _e=n.next,n.value=e,n.next=t,n}}class We{constructor(){this._size=0}get head(){return this._head}get size(){return this._size}add(t){const n=this._head;let r=yt(t,n)||{value:t,next:n};return this._head=r,this._size++,r}insert(t){let n=this._head,r;if(!n)r=t()||void 0,r!==void 0&&this.add(r);else{let i;for(;i||n;){if(r=t(i==null?void 0:i.value,n==null?void 0:n.value)||void 0,r!==void 0){let o=yt(r,n)||{value:r,next:n};i?i.next=o:this._head=o,this._size++;return}i=n,n=n==null?void 0:n.next}}}peek(){return this._head?this._head.value:void 0}shift(){const t=this._head;if(t){const n=t.value;return this._head=t.next,this._size--,vt(t),n}}remove(t){let n=this._head,r=null;for(;n;){if(n.value===t)return r?(r.next=n.next,this._size--,vt(n)):this.shift(),!0;r=n,n=n.next}return!1}}var Q;(function(e){e.NotATraxObject="",e.Object="O",e.Array="A",e.Store="S",e.Processor="P"})(Q||(Q={}));const C=Object.freeze({Info:"!LOG",Warning:"!WRN",Error:"!ERR",CycleStart:"!CS",CycleComplete:"!CC",New:"!NEW",Dispose:"!DEL",Set:"!SET",Get:"!GET",ProcessorDirty:"!DRT",ProcessorSkipped:"!SKP",ProcessingStart:"!PCS",ProcessingPause:"!PCP",ProcessingResume:"!PCR",ProcessingEnd:"!PCE"});var gn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function f(s){try{p(r.next(s))}catch(y){a(y)}}function u(s){try{p(r.throw(s))}catch(y){a(y)}}function p(s){s.done?o(s.value):i(s.value).then(f,u)}p((r=r.apply(e,t||[])).next())})};function bn(e,t,n){let r=0,i=1e3,o,a;const f=new Map,u=[];let p="None",s=-1,y=-1,v=null,h=0;function m(){return v===null&&(y=-1,s++,v=Promise.resolve().then(I),S(C.CycleStart)),y++,s+":"+y}function I(){K(),S(C.CycleComplete),v=null}function S(b){b===C.CycleComplete&&n&&n();const E=Date.now(),g=h!==0?E-h:0;h=E,V(b,{elapsedTime:g},e)}const x=1,H=2,B=3,F=new We;function Y(b){F.add(b)}function G(b){let E=F.shift();for(;E&&E!==b;)R("[trax/processing context] Contexts must be ended or paused before parent:",E.id),E=F.shift()}function K(){if(F.size!==0){let b=F.shift();for(;b;)R("[trax/processing context] Contexts must be ended or paused before cycle ends:",b.id),b=F.shift()}}function k(b,E){let g=x;const j=Object.assign({processId:b},E),w={get id(){return b},pause(){g!==x?R("[trax/processing context] Only started or resumed contexts can be paused:",b):(G(w),V(C.ProcessingPause,j,e),g=H)},resume(){g!==H?R("[trax/processing context] Only paused contexts can be resumed:",b):(Y(w),V(C.ProcessingResume,j,e),g=x)},end(){g===B?R("[trax/processing context] Contexts cannot be ended twice:",b):(G(w),V(C.ProcessingEnd,j,e),g=B)}};return Y(w),w}function R(...b){V(C.Error,He(b))}function V(b,E,g,j){let w;if(r>=i&&i>1?(w=o,o=o.next,r--,w.id="",w.type="",w.next=w.data=w.parentId=void 0):w={id:"",type:""},Sn(e,w,b,t,E,g),w.id=m(),w.parentId=j,w.type!==""){o===void 0?(o=a=w,r=1):(a.next=w,a=w,r++);for(const W of u)try{W({id:w.id,type:w.type,data:w.data})}catch{}oe(w.type,w)}if(p!=="None"){const W=w.type;if(W!==C.CycleStart&&W!==C.CycleComplete&&(W!==C.Get||p==="All")){let te=wn(w.type,w.data),X="";w.parentId&&(X=" - parent:"+w.parentId),console.log(`${w.id} ${w.type}${te?" - "+te:""}${X}`)}}return w}function oe(b,E){const g=f.get(b);if(g){const j=g.filter(w=>!w({id:E.id,type:E.type,data:E.data,parentId:E.parentId}));j.length===0?f.delete(b):f.set(b,j)}}return{get consoleOutput(){return p},set consoleOutput(b){p=b},event(b,E,g){V(b,E,g)},info(...b){V(C.Info,He(b))},warn(...b){V(C.Warning,He(b))},error:R,set maxSize(b){const E=i;if(b<0?i=-1:b<2?i=2:i=b,i>0&&i<E&&i<r){let g=r-i;for(;o&&g;)o=o.next,g--,r--}},startProcessingContext(b,E){let g=b.name;g.charAt(0)==="!"&&E!==e&&(R(`Processing Context name cannot start with reserved prefix: ${g}`),b.name=g.replace(/\!+/,""));const j=F.peek(),w=j?j.id:void 0,W=V(C.ProcessingStart,b,e,w);return k(W.id,b)},get maxSize(){return i},get size(){return r},scan(b){let E=o,g=!0;for(;g&&E;)try{b(E)===!1&&(g=!1),E=E.next}catch{}},lastEvent(){return a},awaitEvent(b,E){return gn(this,void 0,void 0,function*(){if(b===""||b==="*")return V(C.Error,`[trax/eventStream.await] Invalid event type: '${b}'`),{id:a.id,type:a.type,data:a.data};let g=f.get(b);g===void 0&&(g=[],f.set(b,g));let j,w=new Promise(W=>{j=W});return g.push(W=>$n(W,E)?(j(W),!0):!1),w})},subscribe(b,E){let g;return b==="*"?g=j=>E(j):g=j=>{j.type===b&&E(j)},u.push(g),g},unsubscribe(b){const E=u.indexOf(b);return E>-1?(u.splice(E,1),!0):!1}}}function $n(e,t){if(t===void 0||e.data===void 0)return!0;const n=JSON.parse(e.data);if(typeof t!="object"&&t!==null)return n===t;if(t!==null&&n!==null&&typeof n=="object"){for(const r of Object.keys(t)){const i=n[r],o=t[r];if(o instanceof RegExp)if(typeof i=="string"){if(i.match(o)===null)return!1}else return!1;else if(i!==t[r])return!1}return!0}return!1}function He(e){let t="";const n=[];for(let r of e){const i=typeof r;i==="string"||i==="number"||i==="boolean"||r===null?t?t+=" "+r:t=""+r:(t&&(n.push(t),t=""),n.push(r))}if(t&&n.push(t),n.length!==0)return n.length===1?n[0]:n}function Sn(e,t,n,r,i,o){let a=!1,f="";if(n==="")a=!0,f="Event type cannot be empty";else if(n.charAt(0)==="!"&&o!==e&&n!==C.Error&&n!==C.Warning&&n!==C.Info)a=!0,f="Event type cannot start with reserved prefix: "+n;else if(t.type=n,i!==void 0)try{r?t.data=r(i):t.data=JSON.stringify(i)}catch(u){a=!0,f="Event strinfication error: "+u}else i=void 0;a&&(t.type=C.Error,t.data=f)}function wn(e,t){if(!t||!e||e.charAt(0)!=="!")return t;try{const n=JSON.parse(""+t);if(e===C.CycleStart||e===C.CycleComplete)return"0";if(e===C.Info||e===C.Warning||e===C.Error)return`${t.replace(/"/g,"")}`;if(e===C.ProcessingPause||e===C.ProcessingResume||e===C.ProcessingEnd)return`${JSON.parse(t).processId}`;if(e===C.ProcessingStart){const r=n;if(r.name==="!StoreInit")return`${r.name} (${r.storeId})`;if(r.name==="!Compute"){const i=r.isRenderer?" R":"";return`${r.name} #${r.computeCount} (${r.processorId}) P${r.processorPriority} ${r.trigger}${i}`}else return r.name==="!Reconciliation"?`${r.name} #${r.index} - ${r.processorCount} processor${r.processorCount!==1?"s":""}`:r.name==="!ArrayUpdate"?`${r.name} (${r.objectId})`:`${r.name}`}else if(e===C.New){const r=n;return r.objectId===void 0?t:`${r.objectType}: ${r.objectId}`}else if(e===C.Dispose){const r=n;return r.objectId===void 0?t:`${r.objectId}`}else if(e===C.Get){const r=n;return`${r.objectId}.${r.propName} -> ${Ve(r.propValue)}`}else if(e===C.Set){const r=n;return`${r.objectId}.${r.propName} = ${Ve(r.toValue)} (prev: ${Ve(r.fromValue)})`}else if(e===C.ProcessorDirty){const r=n;return`${r.processorId} <- ${r.objectId}.${r.propName}`}else if(e===C.ProcessorSkipped)return`${n.processorId}`}catch{}return t}function Ve(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="object"){const t=M(e);return t?t.id:JSON.stringify(e)}else return typeof e=="string"?"'"+e.replace(/\'/g,"\\'")+"'":""+e}function mt(){}function Ge(e,t,n,r=mt,i=mt){let o=null,a,f,u,p;return(...h)=>{r(),o=t();let m,I=!0;a=void 0;let S;try{S=e(...h),S&&S.next&&typeof S.next=="function"?(a=S,m=S.next(),I=!!m.done):S&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"&&S.catch(x=>{n(x)})}catch(x){n(x)}return i(I),I?(o.end(),o=null):(o.pause(),s(m,a)),a!==void 0?(f&&p&&p("Processing Cancelled"),f=u=p=void 0,I?Promise.resolve(S):(f=new Promise((x,H)=>{u=x,p=H}),f)):S};function s(h,m){if(h&&!h.done){const I=h.value,S=x=>{n(x)};I&&I.then?I.then(x=>{y(x,m)}).catch(S):Promise.resolve().then(()=>{y(I,m)}).catch(S)}}function y(h,m){if(m!==a||!o)return;if(r()===!1){v();return}o.resume();let I,S=!0;try{I=m.next(h),S=!!I.done}catch(x){n(x),S=!0,p&&p(x),v()}i(S),S?(o.end(),u&&u(I.value)):(o.pause(),s(I,m))}function v(){u=p=void 0}}function Pn(e,t,n,r,i,o,a,f,u,p,s=!0,y=!1){let v=0,h=-1,m=!0,I=!1,S=!1,x=new Set,H=new Set,B,F=-1,Y="DirectCall",G;function K(g){a({type:C.Error,data:g})}let k,R;b(r);const V={get id(){return e},get target(){return u},get reconciliationId(){return F},get autoCompute(){return s},get priority(){return n},get computeCount(){return v},get dirty(){return m},get isRenderer(){return y},get disposed(){return I},get dependencies(){return I?[]:Array.from(x).sort()},onDirty:null,notifyChange(g,j){if(I||S)return!1;if(!m&&x.has(oe(g,j))){if(m=!0,a({type:C.ProcessorDirty,processorId:e,objectId:g,propName:j}),this.onDirty)try{this.onDirty()}catch(w){K(`(${e}) onDirty callback execution error: ${w}`)}return!0}return!1},registerDependency(g,j,w){!S||I||w==="then"&&g.then===void 0||(x.add(oe(j,w)),H.add(j),En(V,M(o(j))))},compute(g=!1,j="DirectCall",w=-1){var W;if(I||!g&&!s&&(j==="Init"||j==="Reconciliation"))return;let te=!0;if(u!==null&&j!=="TargetRead"&&(te=((W=M(u))===null||W===void 0?void 0:W.hasExternalPropListener)||!1),te&&m||g){m=!1,x.clear(),B=H,H=new Set,v++,F=w,Y=j,R&&(b(R),R=void 0),G={processorId:e,processorName:t,computeCount:v,maxComputeCount:h};let X;u!==null?X=k(u,G):X=k(G),X&&typeof X=="object"&&typeof X.catch=="function"&&X.catch(()=>{}),s&&x.size===0&&K(`(${e}) No dependencies found: processor will never be re-executed`)}else te||a({type:C.ProcessorSkipped,processorId:e})},updateComputeFn(g){R=g},dispose(){if(I)return!1;I=!0,S=!1,p&&p(e);for(const g of H)wt(V,M(o(g)));return a({type:C.Dispose,objectId:e}),!0}};return a({type:C.New,objectId:e,objectType:Q.Processor}),V.compute(!1,"Init"),V;function oe(g,j){return g+"."+j}function b(g){k=Ge(g,()=>f({type:"!PCS",name:"!Compute",processorId:e,processorPriority:n,trigger:Y,isRenderer:y,computeCount:v}),j=>{K(`(${e}) Compute error: ${j}`)},()=>(S=!0,i.add(V),I?!1:void 0),j=>{S=!1,i.shift(),h=(G==null?void 0:G.maxComputeCount)||-1,j&&h>-1&&v>=h?V.dispose():E()})}function E(){if(B){for(const g of B)H.has(g)||wt(V,M(o(g)));B=void 0}}}var xn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function f(s){try{p(r.next(s))}catch(y){a(y)}}function u(s){try{p(r.throw(s))}catch(y){a(y)}}function p(s){s.done?o(s.value):i(s.value).then(f,u)}p((r=r.apply(e,t||[])).next())})};const Xe=new WeakMap,he=Symbol("trax.proxy.target"),gt=Symbol("trax.dict.size"),bt=/(\/|\>|\.|\%)/g,me="root",Cn=":",In="*",kn="-",Nn="$",$t="$",Ue="%",St=">",Tn="/",ge="☆trax.dictionary.size☆";function En(e,t){t&&(t.propListeners||(t.propListeners=new Set),t.propListeners.add(e),t.contentProcessors!==void 0&&!t.hasExternalPropListener&&(!e.target||M(e.target)!==t)&&(t.hasExternalPropListener=!0))}function wt(e,t){if(t&&t.propListeners)if(t.propListeners.delete(e),t.propListeners.size===0)t.propListeners=void 0,t.hasExternalPropListener=!1;else if(t.contentProcessors){let n=!1;for(const r of t.propListeners)!n&&(!r.target||M(r.target)!==t)&&(n=!0);t.hasExternalPropListener=n}else t.hasExternalPropListener=!1}function M(e){return e?Xe.get(e[he]||e):void 0}function be(e,t,n,r){const i={id:t,type:n,storeId:r,propListeners:void 0,computedProps:void 0,computedContent:void 0,awLevel:void 0,dictSize:void 0,contentProcessors:void 0,hasExternalPropListener:!1,lastContentProcessorCheck:-1};return Xe.set(e[he]||e,i),i}function jn(e){Xe.delete(e[he]||e)}function Dn(){const e={};let t=0;const n=new Map,r=new Map,i=new Map,o=new Map,a=Array.isArray;let f=0,u=0,p=new We,s=new We,y=0;const v=bn(e,c=>JSON.stringify(c,(l,_)=>{if(typeof _=="object"){const $=M(_);return $?`[TRAX ${$.id}]`:_}else if(typeof _=="function")return"[Function]";return _}),()=>{E(),m.processChanges()});let h=!1;const m={log:v,createStore(c,l){return X(c,"",l)},get pendingChanges(){return s.size>0},processChanges(){if(s.size>0){y++;const c=V({type:"!PCS",name:"!Reconciliation",index:y,processorCount:u});let l=s.shift();for(;l;)l.reconciliationId===y?k(`(${l.id}) Circular reference: Processors cannot run twice during reconciliation`):l.compute(!1,"Reconciliation",y),l=s.shift();c.end()}},reconciliation(){return xn(this,void 0,void 0,function*(){const c=v.lastEvent();c&&c.type!==C.CycleComplete&&(yield v.awaitEvent(C.CycleComplete))})},isTraxObject(c){return M(c)!==void 0},getTraxId(c){var l;return((l=M(c))===null||l===void 0?void 0:l.id)||""},getTraxObjectType(c){var l;return((l=M(c))===null||l===void 0?void 0:l.type)||Q.NotATraxObject},getProcessor(c){return i.get(c)},getStore(c){return n.get(c)},getData(c){return g(c)||void 0},getActiveProcessor(){return p.peek()},updateArray(c,l){if(!a(c)||!a(l)){k("updateArray: Invalid argument (array expected)");return}const _=I(c),$=V({type:C.ProcessingStart,name:"!ArrayUpdate",objectId:_}),d=c.length,D=l.length;for(let O=0;D>O;O++)c[O]=l[O];if(D<d){for(let O=D;d>O;O++)c[O]=void 0;c.splice(D,d-D)}$.end()},updateDictionary(c,l){if(c===null||typeof c!="object"){k("updateDictionary: Invalid argument (object expected)");return}const _=I(c),$=V({type:C.ProcessingStart,name:"!DictionaryUpdate",objectId:_}),d=m.getObjectKeys(c),D=m.getObjectKeys(l);for(const O of d)D.includes(O)||delete c[O];for(const O of D)c[O]=l[O];$.end()},getObjectKeys(c){return M(c)?c[gt]?Object.keys(c):[]:Object.keys(c)}};function I(c){const l=M(c);if(l){K(l);const _=p.peek();return _&&(l.computedContent?_.id!==l.computedContent&&k(`Computed content conflict: ${l.id} can only be changed by ${l.computedContent}`):l.computedContent=_.id),l.id}return""}const S={get(c,l){const _=M(c);if(l===he)return c;if(l!=="toJSON"){if(typeof l=="string"){let $,d=!1;if(_){const D=p.peek();D&&D.registerDependency(c,_.id,l),b(_),d=l!=="then"&&l!=="constructor"||$!==void 0,c[l]!==void 0&&($=c[l]=x(c[l],l,_)),d&&R({type:"!GET",objectId:_.id,propName:l,propValue:$})}else $=c[l];return $}else if(l===gt&&_){let $=_.dictSize;$===void 0&&(_.dictSize=$=Object.keys(c).length);const d=p.peek();return d&&d.registerDependency(c,_.id,ge),b(_),R({type:"!GET",objectId:_.id,propName:ge,propValue:$}),$}return c[l]}},set(c,l,_){if(typeof l!="symbol"){const $=c[l],d=M(c);if(d){const D=p.peek();if(K(d),D){let O=d.computedContent||void 0;if(!d.computedContent){let J=d.computedProps;J||(J=d.computedProps={}),O=J[l],O||(J[l]=D.id)}O&&O!==D.id&&(d.computedContent?k(`Computed content conflict: ${d.id}.${l} can only be set by ${O}`):k(`Computed property conflict: ${d.id}.${l} can only be set by ${O}`),_=$)}else d.computedContent&&(k(`Computed content conflict: ${d.id}.${l} can only be set by ${d.computedContent}`),_=$);if($!==_){let O=!1,J=!1;if(a(c)){const ce=c.length;_=c[l]=x(_,""+l,d),O=c.length!==ce}else{_=c[l]=x(_,""+l,d);const ce=d.dictSize;if($===void 0&&ce!==void 0){const ve=Object.keys(c).length;ve!==ce&&(d.dictSize=ve,J=!0)}}R({type:"!SET",objectId:d.id,propName:l,fromValue:$,toValue:_}),typeof l=="string"&&oe(d,l),O&&oe(d,"length"),J&&oe(d,ge)}}else c[l]=_}return!0},deleteProperty(c,l){if(typeof l=="string"&&l in c){const _=M(c);return _&&_.dictSize&&(_.dictSize--,oe(_,ge)),delete c[l],!0}return!1}};function x(c,l,_){if(c!=null&&typeof c=="object"){if(c[he])return c;let $=M(c);if($)return c;let d=0;if(l[0]===$t){let D=0,O=l.length;for(;D<O&&l[D]===$t;)d++,D++}else _.awLevel&&(d=_.awLevel);if(d!==1&&!$&&(c=H(_.id+In+l,c,_.storeId,!0),d&&d>1)){let D=M(c);D&&!D.awLevel&&(D.awLevel=d-1)}}return c}function H(c,l,_,$=!1){const d=g(c);if(d)if(l&&$){const J=c;for(;t++,c=J+Nn+t,!!r.get(c););}else return d;let D;a(l)?D=be(l,c,Q.Array,_):D=be(l,c,Q.Object,_),R({type:"!NEW",objectId:c,objectType:D.type});const O=new Proxy(l,S);return j(c,O,_),O}return m;function B(c){const l=c.priority;s.insert((_,$)=>{if(!$||l<=$.priority)return c})}function F(c,l){let _="";if(a(c)?_=c.map($=>{if(typeof $=="object"){const d=M($);if(d){const D=d.id;if(l){const O=l.length+1;if(D.length>O&&D.slice(0,O)===l+"/")return D.slice(O)}return D.replace(/\//g,kn)}else return k("Invalid id param: not a trax object"),Y()}return""+$}).join(Cn):_=c,_.match(bt)){const $=_.replace(bt,"");k(`Invalid trax id: ${_} (changed into ${$})`),_=$}return _}function Y(){return""+Math.floor(Math.random()*1e5)}function G(c,l,_){let $=F(c,l);return _?l+Ue+$:l+Tn+$}function K(c,l){if(c){_(c.computedContent)&&(c.computedContent=void 0);const $=c.computedProps;$&&l&&_($[l])&&($[l]=void 0)}function _($){return!!($&&!i.has($))}}function k(c){v.error("[TRAX] "+c)}function R(c){c.type===C.Error?k(""+c.data):c.type===C.Info?v.info(""+c.data):v.event(c.type,c,e)}function V(c){return v.startProcessingContext(c,e)}function oe(c,l){const _=c.propListeners;if(_)for(const $ of _)$.notifyChange(c.id,l)&&B($)}function b(c){if(c.lastContentProcessorCheck!==y&&(c.lastContentProcessorCheck=y,c.contentProcessors))for(const l of c.contentProcessors)l.compute(!1,"TargetRead")}function E(){!h&&globalThis.__TRAX_DEVTOOLS__&&(h=!0,console.log("[Trax] DevTools detected"),globalThis.__TRAX_DEVTOOLS__.connectTrax(m))}function g(c){const l=r.get(c);return l&&l.deref()||null}function j(c,l,_){r.set(c,new WeakRef(l)),W(c,_)}function w(c,l,_){if(l&&jn(l),_){if(_.contentProcessors){for(const $ of _.contentProcessors)$.dispose();_.contentProcessors=void 0}te(c,_.storeId)}return R({type:"!DEL",objectId:c}),r.delete(c)}function W(c,l){let _=o.get(l);_||(_=new Set,o.set(l,_)),_.add(c)}function te(c,l){let _=o.get(l);_&&_.delete(c)}function X(c,l,_,$){const d=Ze(c,l,!0);let D,O=!0,J=!1;const ce=V({type:"!PCS",name:"!StoreInit",storeId:d}),ve=typeof _=="function"?_:P=>{P.init(_)},ye={get id(){return d},get root(){return D},get disposed(){return J},createStore(P,T){const A=X(P,d,T,Yt);return W(A.id,d),A},init(P,T){return O?D=De(me,P,!0,T):k(`(${d}) Store.init can only be called during the store init phase`),D},add(P,T,A){return De(P,T,!1,A)},get(P){const T=G(P,d,!1);return g(T)||void 0},remove(P){const T=M(P);let A="";if(T)if(A=T.id,T.type===Q.Processor)k(`(${A}) Processors cannot be disposed through store.remove()`);else if(T.type===Q.Store)k(`(${A}) Stores cannot be disposed through store.remove()`);else if(A.slice(d.length+1)===me)k(`(${A}) Root objects cannot be disposed through store.remove()`);else return w(A,P,T);return!1},compute(P,T,A,L){let U=G(P,d,!0);return Qe(U,"",T,null,A,L)},getProcessor(P){const T=G(P,d,!0);return i.get(T)},getStore(P){const T=Ze(P,d,!1);return n.get(T)},dispose(){return je()},async(P,T){let A="[ASYNC]",L;typeof P=="string"?(A=P,L=T):L=P;const U=Ge(L,()=>v.startProcessingContext({name:d+"."+A+"()",storeId:d}),q=>{k(`(${d}.${A}) error: ${q}`)});return U.updateAsyncName=q=>{A=q},U}};be(ye,d,Q.Store,""),R({type:"!NEW",objectId:d,objectType:Q.Store}),n.set(d,ye);function je(){if(J)return!1;n.delete(d),J=!0,$&&$(d);const P=o.get(d);if(P){o.delete(d);const T=d.length;let A,L;for(const U of P)L=void 0,A=U.charAt(T),A===St?(L=n.get(U),L&&L.dispose()):A===Ue?(L=i.get(U),L&&L.dispose()):w(U)}return R({type:"!DEL",objectId:d}),!0}function Yt(P){te(P,d)}function Zt(P){i.delete(P)&&(u--,te(P,d))}function Qt(P){const T=P;for(const A of Object.keys(T))if(typeof T[A]=="function"){const L=T[A];typeof L.updateAsyncName=="function"?L.updateAsyncName(A):T[A]=Ge(L,()=>v.startProcessingContext({name:d+"."+A+"()",storeId:d}),U=>{k(`(${d}.${A}) error: ${U}`)})}}let ne;try{ne=ve(ye),O=!1,ne!==void 0&&(ne!==null&&typeof ne=="object"?Qt(ne):(k(`createStore init function must return a valid object (${d})`),ne={}))}catch(P){k(`createStore init error (${d}): ${P}`),ne={}}if(O=!1,en(),ne===void 0)return ce.end(),ye;const ae=ne;if(typeof ae.dispose=="function"){const P=ae.dispose;ae.dispose=()=>{P.call(ne),je()}}else ae.dispose=je;return ae.id&&k(`Store id will be overridden and must not be provided by init function (${d})`),ae.id=d,ce.end(),ae;function en(){D==null&&(k(`(${d}) createStore init must define a root object - see also: init()`),D=De(me,{},!0))}function tn(){return J?(k(`(${d}) Stores cannot be used after being disposed`),!1):!0}function Ze(P,T,A=!0){let L=F(P);T!==""&&(L=T+St+L);let U="";if(A){let q=n.get(L),Z=0;for(;q;)U=""+ ++Z,q=q=n.get(L+U)}return L+U}function De(P,T,A,L){let U=F(P,d);if(A||U===me&&(k("Store.add: Invalid id 'root' (reserved)"),U=Y()),tn()){(T==null||typeof T!="object")&&(k(`(${d}) Store.add(${P}): Invalid init object parameter: [${typeof T}]`),T={});const q=H(G(U,d,!1),T,d);if(L!==void 0){const Z=M(q),et=[];for(const Oe of Object.getOwnPropertyNames(L)){const nn=`${d}${Ue}${U}[${Oe}]`;et.push(Qe(nn,Oe,L[Oe],q,!0,!1))}Z.contentProcessors=et}return q}else return T}function Qe(P,T,A,L,U,q){let Z=i.get(P);return Z?(Z.updateComputeFn(A),Z):(f++,u++,Z=Pn(P,T,f,A,p,g,R,V,L,Zt,U,q),be(Z,P,Q.Processor,d),i.set(P,Z),W(P,d),Z)}}}const fe=Dn(),Pt="Preact",xt=new Map;let On=0;function An(e,t){return e+":"+t}function Ln(){return fe.getStore(Pt)||fe.createStore(Pt,{})}let Rn=Ln();function Hn(e,t,n,r){n.jsx="";let i=xt.get(e);i===void 0?i=1:i++,xt.set(e,i);const o=An(e,i);n.id=o;const a=Rn.compute(o,()=>{try{n.jsx=t(n.props)}catch(f){fe.log.error(`[@traxjs/trax-preact] Processing Error: ${f}`)}},!1,!0);a.onDirty=()=>{queueMicrotask(()=>r(++On))},n.processor=a}function Bt(e,t){function n(o){const[a,f]=pn(0),u=Ft({}).current;return u.processor||Hn(e,t,u,f),zt(()=>function(){u.processor&&(u.processor.dispose(),u.processor=void 0)},[u]),u.props=o,u.processor.compute(!0),u.jsx}const r=e.replace(/\:/g,"_"),i=new Function("fc",`return function ${r}(props){ return fc(props) }`);return Mn(i(n))}function Vn(){var e;return((e=fe.getActiveProcessor())===null||e===void 0?void 0:e.id)||""}function Un(e,...t){const n=Ft({}).current;let r=n.store;return r||(n.store=r=e(...t)),typeof r.dispose=="function"&&zt(()=>()=>{r==null||r.dispose()},[r]),r}function Jt(e){return Un(()=>{const t="State["+Vn().replace(/(^[^\/\%]+(\/|\%))|(%)/g,"")+"]";return fe.createStore(t,e)}).root}function Mn(e,t){function n(i){let o=this.props.ref,a=o===i.ref;return!a&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!a:zn(this.props,i)}function r(i){return this.shouldComponentUpdate=n,Ce(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r._forwarded=!0,r}function zn(e,t){for(let n in e)if(n!=="__source"&&!(n in t))return!0;for(let n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function tr(e){const t=Jt({ready:!1,promise:null,value:null});return qt(t,e)}function qt(e,t){if(!e.ready&&e.value)return e.ready=!0,e;if(e.ready=!1,e.promise===null)try{const n=e.promise=t();n&&typeof n.then=="function"?n.then(r=>{e.ready=!0,e.value=r,e.promise=null}):(e.ready=!0,e.value=n,e.promise=null)}catch(n){console.error(`[useAsyncRes] Error while calling factory: ${n}`),e.promise=null,e.ready=!1}return e}function Fn(e){const t=Jt({states:{},res:null});if(t.res===null){const n=t.states,r={};Object.getOwnPropertyNames(e).forEach(i=>{r[i]=()=>{let o=n[i];return o||(n[i]={ready:!1,promise:null,value:null},o=n[i]),qt(o,e[i])}}),t.res=r}return t.res}const Kt=ie("asidemo.views.teamview"),Xt=ie("asidemo.views.tasksview");var Wn=0;function ee(e,t,n,r,i,o){var a,f,u={};for(f in t)f=="ref"?a=t[f]:u[f]=t[f];var p={type:e,props:u,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Wn,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(f in a)u[f]===void 0&&(u[f]=a[f]);return N.vnode&&N.vnode(p),p}const Gn=Bt("MainLayout",({ns:e})=>{const t=e.data,n=Fn({teamView:()=>re.get(Kt),tasksView:()=>re.get(Xt)});return ee("div",{className:"main-layout flex h-screen",children:[ee("div",{className:"w-1/5 h-full max-w-xs min-w-fit",children:ee(Bn,{ns:e})}),ee("div",{className:"flex-1 px-7 pt-56",children:t.view==="404"?ee("div",{children:[" Invalid page: ",t.invalidPath404," "]}):t.view==="tasks"?n.tasksView().ready?Ce(n.tasksView().value,{ns:e}):"":t.view==="team"?n.teamView().ready?Ce(n.teamView().value,{ns:e}):"":t.view==="loading"?ee("div",{children:" Loading... "}):ee("div",{children:" Home "})})]})}),Bn=Bt("NavBar",({ns:e})=>{const t=e.data.view,n=[{text:"Home",view:""},{text:"Team",view:"team"},{text:"Task list",view:"tasks"}],r="block font-semibold cursor-default ",i="block text-fuchsia-300 cursor-pointer";return ee("div",{className:"navbar bg-fuchsia-950 text-white h-full px-7 pt-56",children:n.map(o=>ee("a",{className:o.view===t?r:i,href:o.view,onClick:a=>e.navigate(o.view,a),children:[" ",o.text," "]}))})});const Ye=ie("asidemo.utils.Fetch");async function Jn(e,t){return fetch(e,t)}re.registerService(Ye,()=>Jn);function qn(){return fe.createStore("FetchService",e=>{const t=e.init({networkDisconnection:!1});let n,r=null;return{data:t,async fetch(i,o){return n||(r||(r=re.get(Ye)),n=await r),n(i,o)}}})}re.registerService(fn,qn);let ue="/";const Me=window.location.pathname;if(Me.length>1){const t=Me.slice(1).indexOf("/");t>-1&&(ue=Me.slice(0,t+2),console.log("%crootPath: %s","color:#2d7bf0",ue))}const Kn=["","team","tasks","404"];function Xn(){return fe.createStore("NavService",e=>{const t=e.init({view:"loading",services:{}},{init:function*(r,i){i.maxComputeCount=1;const{id:o,invalidPath404:a}=Ct();n(o,a)}});function n(r,i,o=!1){r==="tasks"?document.title="tasks":r==="team"&&(document.title="team"),t.view=r,t.invalidPath404=r==="404"?i:"";let a="";const f=window.location.href.match(/(\#|\?).*$/);a=f&&f[0]||a,o&&window.history.pushState({},"",ue+r+a)}return window.onpopstate=()=>{const{id:r,invalidPath404:i}=Ct();n(r,i)},{data:t,navigate(r,i){i&&i.preventDefault(),n(r||"","",!0)}}})}function Ct(){const e=window.location.pathname;if(e.slice(0,ue.length)!==ue)return console.error(`[navservice] Invalid root path: ${e.slice(0,ue.length)}"`),{id:"404",invalidPath404:e};let t=e.slice(ue.length);return t=t.replace(/\/*$/g,""),Kn.includes(t)?{id:t}:{id:"404",invalidPath404:t}}re.registerService(Ut,Xn);async function Yn(e,t){if(e==="/api/team/teamA"){const n={type:"GetTeamResponse",team:{id:"teamA",name:"The A Team",members:[{id:"USR1",firstName:"John (Hannibal)",lastName:"Smith"},{id:"USR2",firstName:"Templeton (Face)",lastName:"Peck"},{id:"USR3",firstName:"H.M. (Howling Mad)",lastName:"Murdock"},{id:"USR4",firstName:"Bosco (B.A.)",lastName:"Baracus"}]}};return new Response(JSON.stringify(n))}else if(e==="/api/tasks/teamA"){const n={type:"GetTasksResponse",tasks:[{id:"T1",description:"Code & Test",completed:!1,createdBy:"USR1"},{id:"T2",description:"Refactor",completed:!1,createdBy:"USR1"},{id:"T3",description:"Deploy",completed:!1,createdBy:"USR1"},{id:"T4",description:"Repeat!",completed:!1,createdBy:"USR1"}]};return new Response(JSON.stringify(n))}else console.log(`Unsupported fetch mock: ${e}`);return fetch(e,t)}re.registerService(Ye,()=>Yn);const Zn=ie("asidemo.api.GetTeamAPI"),Qn=ie("asidemo.api.GetTasksAPI");re.registerGroup([_n,Zn,Kt],()=>Be(()=>import("./teamBundle-0d84d5e4.js"),[]));re.registerGroup([dn,Qn,Xt],()=>Be(()=>import("./tasksBundle-8927e62e.js"),[]));async function er(){const e=/me=([0-9]+)/,t=window.location.search.match(e);t&&(await Be(()=>import("./index-7d8e5520.js"),[])).mockEnv.setProfile(parseInt(t[1],0));const n=await re.get(Ut);un(ee("div",{className:"text-neutral-600",children:ee(Gn,{ns:n})}),document.getElementById("main"))}er();export{Ye as F,Zn as G,_n as T,fn as a,Kt as b,dn as c,Qn as d,Xt as e,Bt as j,ee as o,fe as q,tr as u,re as x};
