(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Te,N,Ct,ue,et,kt,ze,we={},It=[],rn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Be=Array.isArray;function se(e,t){for(var n in t)e[n]=t[n];return e}function Nt(e){var t=e.parentNode;t&&t.removeChild(e)}function Ce(e,t,n){var r,i,o,u={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:u[o]=t[o];if(arguments.length>2&&(u.children=arguments.length>3?Te.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)u[o]===void 0&&(u[o]=e.defaultProps[o]);return $e(e,u,r,i,null)}function $e(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Ct};return i==null&&N.vnode!=null&&N.vnode(o),o}function je(e){return e.children}function Se(e,t){this.props=e,this.context=t}function de(e,t){if(t==null)return e.__?de(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?de(e):null}function Tt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Tt(e)}}function tt(e){(!e.__d&&(e.__d=!0)&&ue.push(e)&&!ke.__r++||et!==N.debounceRendering)&&((et=N.debounceRendering)||kt)(ke)}function ke(){var e,t,n,r,i,o,u,f;for(ue.sort(ze);e=ue.shift();)e.__d&&(t=ue.length,r=void 0,i=void 0,u=(o=(n=e).__v).__e,(f=n.__P)&&(r=[],(i=se({},o)).__v=o.__v+1,Je(f,o,i,n.__n,f.ownerSVGElement!==void 0,o.__h!=null?[u]:null,r,u??de(o),o.__h),At(r,o),o.__e!=u&&Tt(o)),ue.length>t&&ue.sort(ze));ke.__r=0}function jt(e,t,n,r,i,o,u,f,l,p){var s,y,v,h,m,k,S,w=r&&r.__k||It,H=w.length;for(n.__k=[],s=0;s<t.length;s++)if((h=n.__k[s]=(h=t[s])==null||typeof h=="boolean"||typeof h=="function"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?$e(null,h,null,null,h):Be(h)?$e(je,{children:h},null,null,null):h.__b>0?$e(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(v=w[s])===null||v&&h.key==v.key&&h.type===v.type)w[s]=void 0;else for(y=0;y<H;y++){if((v=w[y])&&h.key==v.key&&h.type===v.type){w[y]=void 0;break}v=null}Je(e,h,v=v||we,i,o,u,f,l,p),m=h.__e,(y=h.ref)&&v.ref!=y&&(S||(S=[]),v.ref&&S.push(v.ref,null,h),S.push(y,h.__c||m,h)),m!=null?(k==null&&(k=m),typeof h.type=="function"&&h.__k===v.__k?h.__d=l=Et(h,l,e):l=Dt(e,h,v,w,m,l),typeof n.type=="function"&&(n.__d=l)):l&&v.__e==l&&l.parentNode!=e&&(l=de(v))}for(n.__e=k,s=H;s--;)w[s]!=null&&(typeof n.type=="function"&&w[s].__e!=null&&w[s].__e==n.__d&&(n.__d=Ot(r).nextSibling),Rt(w[s],w[s]));if(S)for(s=0;s<S.length;s++)Lt(S[s],S[++s],S[++s])}function Et(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t=typeof r.type=="function"?Et(r,t,n):Dt(n,r,r,i,r.__e,t));return t}function Dt(e,t,n,r,i,o){var u,f,l;if(t.__d!==void 0)u=t.__d,t.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(i),u=null;else{for(f=o,l=0;(f=f.nextSibling)&&l<r.length;l+=1)if(f==i)break e;e.insertBefore(i,o),u=o}return u!==void 0?u:i.nextSibling}function Ot(e){var t,n,r;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=Ot(n)))return r}return null}function on(e,t,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in t||Ie(e,o,null,n[o],r);for(o in t)i&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||Ie(e,o,t[o],n[o],r)}function nt(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||rn.test(t)?n:n+"px"}function Ie(e,t,n,r,i){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||nt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||nt(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?ot:rt,o):e.removeEventListener(t,o?ot:rt,o);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function rt(e){return this.l[e.type+!1](N.event?N.event(e):e)}function ot(e){return this.l[e.type+!0](N.event?N.event(e):e)}function Je(e,t,n,r,i,o,u,f,l){var p,s,y,v,h,m,k,S,w,H,B,F,Y,G,K,I=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,f=t.__e=n.__e,t.__h=null,o=[f]),(p=N.__b)&&p(t);try{e:if(typeof I=="function"){if(S=t.props,w=(p=I.contextType)&&r[p.__c],H=p?w?w.props.value:p.__:r,n.__c?k=(s=t.__c=n.__c).__=s.__E:("prototype"in I&&I.prototype.render?t.__c=s=new I(S,H):(t.__c=s=new Se(S,H),s.constructor=I,s.render=cn),w&&w.sub(s),s.props=S,s.state||(s.state={}),s.context=H,s.__n=r,y=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),I.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=se({},s.__s)),se(s.__s,I.getDerivedStateFromProps(S,s.__s))),v=s.props,h=s.state,s.__v=t,y)I.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(I.getDerivedStateFromProps==null&&S!==v&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(S,H),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(S,s.__s,H)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(s.props=S,s.state=s.__s,s.__d=!1),s.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(R){R&&(R.__=t)}),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[],s.__h.length&&u.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(S,s.__s,H),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(v,h,m)})}if(s.context=H,s.props=S,s.__P=e,F=N.__r,Y=0,"prototype"in I&&I.prototype.render){for(s.state=s.__s,s.__d=!1,F&&F(t),p=s.render(s.props,s.state,s.context),G=0;G<s._sb.length;G++)s.__h.push(s._sb[G]);s._sb=[]}else do s.__d=!1,F&&F(t),p=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++Y<25);s.state=s.__s,s.getChildContext!=null&&(r=se(se({},r),s.getChildContext())),y||s.getSnapshotBeforeUpdate==null||(m=s.getSnapshotBeforeUpdate(v,h)),jt(e,Be(K=p!=null&&p.type===je&&p.key==null?p.props.children:p)?K:[K],t,n,r,i,o,u,f,l),s.base=t.__e,t.__h=null,s.__h.length&&u.push(s),k&&(s.__E=s.__=null),s.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=sn(n.__e,t,n,r,i,o,u,l);(p=N.diffed)&&p(t)}catch(R){t.__v=null,(l||o!=null)&&(t.__e=f,t.__h=!!l,o[o.indexOf(f)]=null),N.__e(R,t,n)}}function At(e,t){N.__c&&N.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){N.__e(r,n.__v)}})}function sn(e,t,n,r,i,o,u,f){var l,p,s,y=n.props,v=t.props,h=t.type,m=0;if(h==="svg"&&(i=!0),o!=null){for(;m<o.length;m++)if((l=o[m])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){e=l,o[m]=null;break}}if(e==null){if(h===null)return document.createTextNode(v);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,v.is&&v),o=null,f=!1}if(h===null)y===v||f&&e.data===v||(e.data=v);else{if(o=o&&Te.call(e.childNodes),p=(y=n.props||we).dangerouslySetInnerHTML,s=v.dangerouslySetInnerHTML,!f){if(o!=null)for(y={},m=0;m<e.attributes.length;m++)y[e.attributes[m].name]=e.attributes[m].value;(s||p)&&(s&&(p&&s.__html==p.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(on(e,v,y,i,f),s)t.__k=[];else if(jt(e,Be(m=t.props.children)?m:[m],t,n,r,i&&h!=="foreignObject",o,u,o?o[0]:n.__k&&de(n,0),f),o!=null)for(m=o.length;m--;)o[m]!=null&&Nt(o[m]);f||("value"in v&&(m=v.value)!==void 0&&(m!==e.value||h==="progress"&&!m||h==="option"&&m!==y.value)&&Ie(e,"value",m,y.value,!1),"checked"in v&&(m=v.checked)!==void 0&&m!==e.checked&&Ie(e,"checked",m,y.checked,!1))}return e}function Lt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){N.__e(r,n)}}function Rt(e,t,n){var r,i;if(N.unmount&&N.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Lt(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){N.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Rt(r[i],t,n||typeof e.type!="function");n||e.__e==null||Nt(e.__e),e.__=e.__e=e.__d=void 0}function cn(e,t,n){return this.constructor(e,n)}function an(e,t,n){var r,i,o;N.__&&N.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],Je(t,e=(!r&&n||t).__k=Ce(je,null,[e]),i||we,we,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?Te.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),At(o,e)}Te=It.slice,N={__e:function(e,t,n,r){for(var i,o,u;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),u=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),u=i.__d),u)return i.__E=i}catch(f){e=f}throw e}},Ct=0,Se.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=se({},this.state),typeof e=="function"&&(e=e(se({},n),this.props)),e&&se(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),tt(this))},Se.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tt(this))},Se.prototype.render=je,ue=[],kt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ze=function(e,t){return e.__v.__b-t.__v.__b},ke.__r=0;function ie(e){return{ns:e}}const it="service:",st="object:",Ae="group:",Le=Promise.resolve(null);function Ht(e){let t=0;const n=new Map,r=new Map,i={registerService(f,l){n.set(it+f.ns,l)},registerFactory(f,l){n.set(st+f.ns,l)},registerGroup(f,l){const p=Ae+ ++t,s=()=>{let y=r.get(p);return y||(y=u(l),r.set(p,y),y)};for(const y of f)n.set(Ae+y.ns,s)},get(...f){if(f.length===1){const l=f[0];return o(typeof l=="string"?l:l.ns)}return Promise.all(f.map(l=>o(typeof l=="string"?l:l.ns)))},createChildContext(){return Ht(i)}};return i;function o(f,l=!0){const p=it+f,s=r.get(p);if(s!==void 0)return s;const y=n.get(p);if(y){let v=u(y),h;const m=new Promise(k=>{h=k});return v.then(k=>{k&&(typeof k=="object"||typeof k=="function")?(r.set(p,k),h(k)):(r.set(p,Le),h(null))}),r.set(p,m),m}else{const v=n.get(st+f);if(v)return u(v);if(l){const h=n.get(Ae+f);if(h)return u(h).then(()=>o(f,!1))}if(e)return e.get(f)}return Le}function u(f){let l=f();return l&&(typeof l=="object"||typeof l=="function")?typeof l.then!="function"&&(l=Promise.resolve(l)):l=Le,l}}const re=Ht(),Vt=ie("asidemo.services.NavService"),un=ie("asidemo.services.FetchService"),ln=ie("asidemo.services.TeamStore"),fn=ie("asidemo.services.TasksStore");var pe,z,Re,ct,Ne=0,Ut=[],xe=[],at=N.__b,ut=N.__r,lt=N.diffed,ft=N.__c,_t=N.unmount;function qe(e,t){N.__h&&N.__h(z,e,Ne||t),Ne=0;var n=z.__H||(z.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:xe}),n.__[e]}function _n(e){return Ne=1,dn(Wt,e)}function dn(e,t,n){var r=qe(pe++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Wt(void 0,t),function(f){var l=r.__N?r.__N[0]:r.__[0],p=r.t(l,f);l!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=z,!z.u)){var i=function(f,l,p){if(!r.__c.__H)return!0;var s=r.__c.__H.__.filter(function(v){return v.__c});if(s.every(function(v){return!v.__N}))return!o||o.call(this,f,l,p);var y=!1;return s.forEach(function(v){if(v.__N){var h=v.__[0];v.__=v.__N,v.__N=void 0,h!==v.__[0]&&(y=!0)}}),!(!y&&r.__c.props===f)&&(!o||o.call(this,f,l,p))};z.u=!0;var o=z.shouldComponentUpdate,u=z.componentWillUpdate;z.componentWillUpdate=function(f,l,p){if(this.__e){var s=o;o=void 0,i(f,l,p),o=s}u&&u.call(this,f,l,p)},z.shouldComponentUpdate=i}return r.__N||r.__}function Mt(e,t){var n=qe(pe++,3);!N.__s&&Ft(n.__H,t)&&(n.__=e,n.i=t,z.__H.__h.push(n))}function zt(e){return Ne=5,pn(function(){return{current:e}},[])}function pn(e,t){var n=qe(pe++,7);return Ft(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function hn(){for(var e;e=Ut.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pe),e.__H.__h.forEach(Fe),e.__H.__h=[]}catch(t){e.__H.__h=[],N.__e(t,e.__v)}}N.__b=function(e){z=null,at&&at(e)},N.__r=function(e){ut&&ut(e),pe=0;var t=(z=e.__c).__H;t&&(Re===z?(t.__h=[],z.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=xe,n.__N=n.i=void 0})):(t.__h.forEach(Pe),t.__h.forEach(Fe),t.__h=[],pe=0)),Re=z},N.diffed=function(e){lt&&lt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ut.push(t)!==1&&ct===N.requestAnimationFrame||((ct=N.requestAnimationFrame)||vn)(hn)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==xe&&(n.__=n.__V),n.i=void 0,n.__V=xe})),Re=z=null},N.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Pe),n.__h=n.__h.filter(function(r){return!r.__||Fe(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],N.__e(r,n.__v)}}),ft&&ft(e,t)},N.unmount=function(e){_t&&_t(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Pe(r)}catch(i){t=i}}),n.__H=void 0,t&&N.__e(t,n.__v))};var dt=typeof requestAnimationFrame=="function";function vn(e){var t,n=function(){clearTimeout(r),dt&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);dt&&(t=requestAnimationFrame(n))}function Pe(e){var t=z,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),z=t}function Fe(e){var t=z;e.__c=e.__(),z=t}function Ft(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Wt(e,t){return typeof t=="function"?t(e):t}let _e;function pt(e){e.value=null,e.next=_e,_e=e}function ht(e,t){if(_e){const n=_e;return _e=n.next,n.value=e,n.next=t,n}}class We{constructor(){this._size=0}get head(){return this._head}get size(){return this._size}add(t){const n=this._head;let r=ht(t,n)||{value:t,next:n};return this._head=r,this._size++,r}insert(t){let n=this._head,r;if(!n)r=t()||void 0,r!==void 0&&this.add(r);else{let i;for(;i||n;){if(r=t(i==null?void 0:i.value,n==null?void 0:n.value)||void 0,r!==void 0){let o=ht(r,n)||{value:r,next:n};i?i.next=o:this._head=o,this._size++;return}i=n,n=n==null?void 0:n.next}}}peek(){return this._head?this._head.value:void 0}shift(){const t=this._head;if(t){const n=t.value;return this._head=t.next,this._size--,pt(t),n}}remove(t){let n=this._head,r=null;for(;n;){if(n.value===t)return r?(r.next=n.next,this._size--,pt(n)):this.shift(),!0;r=n,n=n.next}return!1}}var Q;(function(e){e.NotATraxObject="",e.Object="O",e.Array="A",e.Store="S",e.Processor="P"})(Q||(Q={}));const C=Object.freeze({Info:"!LOG",Warning:"!WRN",Error:"!ERR",CycleStart:"!CS",CycleComplete:"!CC",New:"!NEW",Dispose:"!DEL",Set:"!SET",Get:"!GET",ProcessorDirty:"!DRT",ProcessorSkipped:"!SKP",ProcessingStart:"!PCS",ProcessingPause:"!PCP",ProcessingResume:"!PCR",ProcessingEnd:"!PCE"});var yn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function f(s){try{p(r.next(s))}catch(y){u(y)}}function l(s){try{p(r.throw(s))}catch(y){u(y)}}function p(s){s.done?o(s.value):i(s.value).then(f,l)}p((r=r.apply(e,t||[])).next())})};function mn(e,t,n){let r=0,i=1e3,o,u;const f=new Map,l=[];let p="None",s=-1,y=-1,v=null,h=0;function m(){return v===null&&(y=-1,s++,v=Promise.resolve().then(k),S(C.CycleStart)),y++,s+":"+y}function k(){K(),S(C.CycleComplete),v=null}function S(b){b===C.CycleComplete&&n&&n();const j=Date.now(),g=h!==0?j-h:0;h=j,V(b,{elapsedTime:g},e)}const w=1,H=2,B=3,F=new We;function Y(b){F.add(b)}function G(b){let j=F.shift();for(;j&&j!==b;)R("[trax/processing context] Contexts must be ended or paused before parent:",j.id),j=F.shift()}function K(){if(F.size!==0){let b=F.shift();for(;b;)R("[trax/processing context] Contexts must be ended or paused before cycle ends:",b.id),b=F.shift()}}function I(b,j){let g=w;const E=Object.assign({processId:b},j),x={get id(){return b},pause(){g!==w?R("[trax/processing context] Only started or resumed contexts can be paused:",b):(G(x),V(C.ProcessingPause,E,e),g=H)},resume(){g!==H?R("[trax/processing context] Only paused contexts can be resumed:",b):(Y(x),V(C.ProcessingResume,E,e),g=w)},end(){g===B?R("[trax/processing context] Contexts cannot be ended twice:",b):(G(x),V(C.ProcessingEnd,E,e),g=B)}};return Y(x),x}function R(...b){V(C.Error,He(b))}function V(b,j,g,E){let x;if(r>=i&&i>1?(x=o,o=o.next,r--,x.id="",x.type="",x.next=x.data=x.parentId=void 0):x={id:"",type:""},bn(e,x,b,t,j,g),x.id=m(),x.parentId=E,x.type!==""){o===void 0?(o=u=x,r=1):(u.next=x,u=x,r++);for(const W of l)try{W({id:x.id,type:x.type,data:x.data})}catch{}oe(x.type,x)}if(p!=="None"){const W=x.type;if(W!==C.CycleStart&&W!==C.CycleComplete&&(W!==C.Get||p==="All")){let te=$n(x.type,x.data),X="";x.parentId&&(X=" - parent:"+x.parentId),console.log(`${x.id} ${x.type}${te?" - "+te:""}${X}`)}}return x}function oe(b,j){const g=f.get(b);if(g){const E=g.filter(x=>!x({id:j.id,type:j.type,data:j.data,parentId:j.parentId}));E.length===0?f.delete(b):f.set(b,E)}}return{get consoleOutput(){return p},set consoleOutput(b){p=b},event(b,j,g){V(b,j,g)},info(...b){V(C.Info,He(b))},warn(...b){V(C.Warning,He(b))},error:R,set maxSize(b){const j=i;if(b<0?i=-1:b<2?i=2:i=b,i>0&&i<j&&i<r){let g=r-i;for(;o&&g;)o=o.next,g--,r--}},startProcessingContext(b,j){let g=b.name;g.charAt(0)==="!"&&j!==e&&(R(`Processing Context name cannot start with reserved prefix: ${g}`),b.name=g.replace(/\!+/,""));const E=F.peek(),x=E?E.id:void 0,W=V(C.ProcessingStart,b,e,x);return I(W.id,b)},get maxSize(){return i},get size(){return r},scan(b){let j=o,g=!0;for(;g&&j;)try{b(j)===!1&&(g=!1),j=j.next}catch{}},lastEvent(){return u},awaitEvent(b,j){return yn(this,void 0,void 0,function*(){if(b===""||b==="*")return V(C.Error,`[trax/eventStream.await] Invalid event type: '${b}'`),{id:u.id,type:u.type,data:u.data};let g=f.get(b);g===void 0&&(g=[],f.set(b,g));let E,x=new Promise(W=>{E=W});return g.push(W=>gn(W,j)?(E(W),!0):!1),x})},subscribe(b,j){let g;return b==="*"?g=E=>j(E):g=E=>{E.type===b&&j(E)},l.push(g),g},unsubscribe(b){const j=l.indexOf(b);return j>-1?(l.splice(j,1),!0):!1}}}function gn(e,t){if(t===void 0||e.data===void 0)return!0;const n=JSON.parse(e.data);if(typeof t!="object"&&t!==null)return n===t;if(t!==null&&n!==null&&typeof n=="object"){for(const r of Object.keys(t)){const i=n[r],o=t[r];if(o instanceof RegExp)if(typeof i=="string"){if(i.match(o)===null)return!1}else return!1;else if(i!==t[r])return!1}return!0}return!1}function He(e){let t="";const n=[];for(let r of e){const i=typeof r;i==="string"||i==="number"||i==="boolean"||r===null?t?t+=" "+r:t=""+r:(t&&(n.push(t),t=""),n.push(r))}if(t&&n.push(t),n.length!==0)return n.length===1?n[0]:n}function bn(e,t,n,r,i,o){let u=!1,f="";if(n==="")u=!0,f="Event type cannot be empty";else if(n.charAt(0)==="!"&&o!==e&&n!==C.Error&&n!==C.Warning&&n!==C.Info)u=!0,f="Event type cannot start with reserved prefix: "+n;else if(t.type=n,i!==void 0)try{r?t.data=r(i):t.data=JSON.stringify(i)}catch(l){u=!0,f="Event strinfication error: "+l}else i=void 0;u&&(t.type=C.Error,t.data=f)}function $n(e,t){if(!t||!e||e.charAt(0)!=="!")return t;try{const n=JSON.parse(""+t);if(e===C.CycleStart||e===C.CycleComplete)return"0";if(e===C.Info||e===C.Warning||e===C.Error)return`${t.replace(/"/g,"")}`;if(e===C.ProcessingPause||e===C.ProcessingResume||e===C.ProcessingEnd)return`${JSON.parse(t).processId}`;if(e===C.ProcessingStart){const r=n;if(r.name==="!StoreInit")return`${r.name} (${r.storeId})`;if(r.name==="!Compute"){const i=r.isRenderer?" R":"";return`${r.name} #${r.computeCount} (${r.processorId}) P${r.processorPriority} ${r.trigger}${i}`}else return r.name==="!Reconciliation"?`${r.name} #${r.index} - ${r.processorCount} processor${r.processorCount!==1?"s":""}`:r.name==="!ArrayUpdate"?`${r.name} (${r.objectId})`:`${r.name}`}else if(e===C.New){const r=n;return r.objectId===void 0?t:`${r.objectType}: ${r.objectId}`}else if(e===C.Dispose){const r=n;return r.objectId===void 0?t:`${r.objectId}`}else if(e===C.Get){const r=n;return`${r.objectId}.${r.propName} -> ${Ve(r.propValue)}`}else if(e===C.Set){const r=n;return`${r.objectId}.${r.propName} = ${Ve(r.toValue)} (prev: ${Ve(r.fromValue)})`}else if(e===C.ProcessorDirty){const r=n;return`${r.processorId} <- ${r.objectId}.${r.propName}`}else if(e===C.ProcessorSkipped)return`${n.processorId}`}catch{}return t}function Ve(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="object"){const t=M(e);return t?t.id:JSON.stringify(e)}else return typeof e=="string"?"'"+e.replace(/\'/g,"\\'")+"'":""+e}function vt(){}function Ge(e,t,n,r=vt,i=vt){let o=null,u,f,l,p;return(...h)=>{r(),o=t();let m,k=!0;u=void 0;let S;try{S=e(...h),S&&S.next&&typeof S.next=="function"?(u=S,m=S.next(),k=!!m.done):S&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"&&S.catch(w=>{n(w)})}catch(w){n(w)}return i(k),k?(o.end(),o=null):(o.pause(),s(m,u)),u!==void 0?(f&&p&&p("Processing Cancelled"),f=l=p=void 0,k?Promise.resolve(S):(f=new Promise((w,H)=>{l=w,p=H}),f)):S};function s(h,m){if(h&&!h.done){const k=h.value,S=w=>{n(w)};k&&k.then?k.then(w=>{y(w,m)}).catch(S):Promise.resolve().then(()=>{y(k,m)}).catch(S)}}function y(h,m){if(m!==u||!o)return;if(r()===!1){v();return}o.resume();let k,S=!0;try{k=m.next(h),S=!!k.done}catch(w){n(w),S=!0,p&&p(w),v()}i(S),S?(o.end(),l&&l(k.value)):(o.pause(),s(k,m))}function v(){l=p=void 0}}function Sn(e,t,n,r,i,o,u,f,l,p,s=!0,y=!1){let v=0,h=-1,m=!0,k=!1,S=!1,w=new Set,H=new Set,B,F=-1,Y="DirectCall",G;function K(g){u({type:C.Error,data:g})}let I,R;b(r);const V={get id(){return e},get target(){return l},get reconciliationId(){return F},get autoCompute(){return s},get priority(){return n},get computeCount(){return v},get dirty(){return m},get isRenderer(){return y},get disposed(){return k},get dependencies(){return k?[]:Array.from(w).sort()},onDirty:null,notifyChange(g,E){if(k||S)return!1;if(!m&&w.has(oe(g,E))){if(m=!0,u({type:C.ProcessorDirty,processorId:e,objectId:g,propName:E}),this.onDirty)try{this.onDirty()}catch(x){K(`(${e}) onDirty callback execution error: ${x}`)}return!0}return!1},registerDependency(g,E,x){!S||k||x==="then"&&g.then===void 0||(w.add(oe(E,x)),H.add(E),Nn(V,M(o(E))))},compute(g=!1,E="DirectCall",x=-1){var W;if(k||!g&&!s&&(E==="Init"||E==="Reconciliation"))return;let te=!0;if(l!==null&&E!=="TargetRead"&&(te=((W=M(l))===null||W===void 0?void 0:W.hasExternalPropListener)||!1),te&&m||g){m=!1,w.clear(),B=H,H=new Set,v++,F=x,Y=E,R&&(b(R),R=void 0),G={processorId:e,processorName:t,computeCount:v,maxComputeCount:h};let X;l!==null?X=I(l,G):X=I(G),X&&typeof X=="object"&&typeof X.catch=="function"&&X.catch(()=>{}),s&&w.size===0&&K(`(${e}) No dependencies found: processor will never be re-executed`)}else te||u({type:C.ProcessorSkipped,processorId:e})},updateComputeFn(g){R=g},dispose(){if(k)return!1;k=!0,S=!1,p&&p(e);for(const g of H)$t(V,M(o(g)));return u({type:C.Dispose,objectId:e}),!0}};return u({type:C.New,objectId:e,objectType:Q.Processor}),V.compute(!1,"Init"),V;function oe(g,E){return g+"."+E}function b(g){I=Ge(g,()=>f({type:"!PCS",name:"!Compute",processorId:e,processorPriority:n,trigger:Y,isRenderer:y,computeCount:v}),E=>{K(`(${e}) Compute error: ${E}`)},()=>(S=!0,i.add(V),k?!1:void 0),E=>{S=!1,i.shift(),h=(G==null?void 0:G.maxComputeCount)||-1,E&&h>-1&&v>=h?V.dispose():j()})}function j(){if(B){for(const g of B)H.has(g)||$t(V,M(o(g)));B=void 0}}}var xn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function f(s){try{p(r.next(s))}catch(y){u(y)}}function l(s){try{p(r.throw(s))}catch(y){u(y)}}function p(s){s.done?o(s.value):i(s.value).then(f,l)}p((r=r.apply(e,t||[])).next())})};const Ke=new WeakMap,he=Symbol("trax.proxy.target"),yt=Symbol("trax.dict.size"),mt=/(\/|\>|\.|\%)/g,me="root",Pn=":",wn="*",Cn="-",kn="$",gt="$",Ue="%",bt=">",In="/",ge="☆trax.dictionary.size☆";function Nn(e,t){t&&(t.propListeners||(t.propListeners=new Set),t.propListeners.add(e),t.contentProcessors!==void 0&&!t.hasExternalPropListener&&(!e.target||M(e.target)!==t)&&(t.hasExternalPropListener=!0))}function $t(e,t){if(t&&t.propListeners)if(t.propListeners.delete(e),t.propListeners.size===0)t.propListeners=void 0,t.hasExternalPropListener=!1;else if(t.contentProcessors){let n=!1;for(const r of t.propListeners)!n&&(!r.target||M(r.target)!==t)&&(n=!0);t.hasExternalPropListener=n}else t.hasExternalPropListener=!1}function M(e){return e?Ke.get(e[he]||e):void 0}function be(e,t,n,r){const i={id:t,type:n,storeId:r,propListeners:void 0,computedProps:void 0,computedContent:void 0,awLevel:void 0,dictSize:void 0,contentProcessors:void 0,hasExternalPropListener:!1,lastContentProcessorCheck:-1};return Ke.set(e[he]||e,i),i}function Tn(e){Ke.delete(e[he]||e)}function jn(){const e={};let t=0;const n=new Map,r=new Map,i=new Map,o=new Map,u=Array.isArray;let f=0,l=0,p=new We,s=new We,y=0;const v=mn(e,c=>JSON.stringify(c,(a,_)=>{if(typeof _=="object"){const $=M(_);return $?`[TRAX ${$.id}]`:_}else if(typeof _=="function")return"[Function]";return _}),()=>{j(),m.processChanges()});let h=!1;const m={log:v,createStore(c,a){return X(c,"",a)},get pendingChanges(){return s.size>0},processChanges(){if(s.size>0){y++;const c=V({type:"!PCS",name:"!Reconciliation",index:y,processorCount:l});let a=s.shift();for(;a;)a.reconciliationId===y?I(`(${a.id}) Circular reference: Processors cannot run twice during reconciliation`):a.compute(!1,"Reconciliation",y),a=s.shift();c.end()}},reconciliation(){return xn(this,void 0,void 0,function*(){const c=v.lastEvent();c&&c.type!==C.CycleComplete&&(yield v.awaitEvent(C.CycleComplete))})},isTraxObject(c){return M(c)!==void 0},getTraxId(c){var a;return((a=M(c))===null||a===void 0?void 0:a.id)||""},getTraxObjectType(c){var a;return((a=M(c))===null||a===void 0?void 0:a.type)||Q.NotATraxObject},getProcessor(c){return i.get(c)},getStore(c){return n.get(c)},getData(c){return g(c)||void 0},getActiveProcessor(){return p.peek()},updateArray(c,a){if(!u(c)||!u(a)){I("updateArray: Invalid argument (array expected)");return}const _=k(c),$=V({type:C.ProcessingStart,name:"!ArrayUpdate",objectId:_}),d=c.length,D=a.length;for(let O=0;D>O;O++)c[O]=a[O];if(D<d){for(let O=D;d>O;O++)c[O]=void 0;c.splice(D,d-D)}$.end()},updateDictionary(c,a){if(c===null||typeof c!="object"){I("updateDictionary: Invalid argument (object expected)");return}const _=k(c),$=V({type:C.ProcessingStart,name:"!DictionaryUpdate",objectId:_}),d=m.getObjectKeys(c),D=m.getObjectKeys(a);for(const O of d)D.includes(O)||delete c[O];for(const O of D)c[O]=a[O];$.end()},getObjectKeys(c){return M(c)?c[yt]?Object.keys(c):[]:Object.keys(c)}};function k(c){const a=M(c);if(a){K(a);const _=p.peek();return _&&(a.computedContent?_.id!==a.computedContent&&I(`Computed content conflict: ${a.id} can only be changed by ${a.computedContent}`):a.computedContent=_.id),a.id}return""}const S={get(c,a){const _=M(c);if(a===he)return c;if(a!=="toJSON"){if(typeof a=="string"){let $,d=!1;if(_){const D=p.peek();D&&D.registerDependency(c,_.id,a),b(_),d=a!=="then"&&a!=="constructor"||$!==void 0,c[a]!==void 0&&($=c[a]=w(c[a],a,_)),d&&R({type:"!GET",objectId:_.id,propName:a,propValue:$})}else $=c[a];return $}else if(a===yt&&_){let $=_.dictSize;$===void 0&&(_.dictSize=$=Object.keys(c).length);const d=p.peek();return d&&d.registerDependency(c,_.id,ge),b(_),R({type:"!GET",objectId:_.id,propName:ge,propValue:$}),$}return c[a]}},set(c,a,_){if(typeof a!="symbol"){const $=c[a],d=M(c);if(d){const D=p.peek();if(K(d),D){let O=d.computedContent||void 0;if(!d.computedContent){let J=d.computedProps;J||(J=d.computedProps={}),O=J[a],O||(J[a]=D.id)}O&&O!==D.id&&(d.computedContent?I(`Computed content conflict: ${d.id}.${a} can only be set by ${O}`):I(`Computed property conflict: ${d.id}.${a} can only be set by ${O}`),_=$)}else d.computedContent&&(I(`Computed content conflict: ${d.id}.${a} can only be set by ${d.computedContent}`),_=$);if($!==_){let O=!1,J=!1;if(u(c)){const ce=c.length;_=c[a]=w(_,""+a,d),O=c.length!==ce}else{_=c[a]=w(_,""+a,d);const ce=d.dictSize;if($===void 0&&ce!==void 0){const ve=Object.keys(c).length;ve!==ce&&(d.dictSize=ve,J=!0)}}R({type:"!SET",objectId:d.id,propName:a,fromValue:$,toValue:_}),typeof a=="string"&&oe(d,a),O&&oe(d,"length"),J&&oe(d,ge)}}else c[a]=_}return!0},deleteProperty(c,a){if(typeof a=="string"&&a in c){const _=M(c);return _&&_.dictSize&&(_.dictSize--,oe(_,ge)),delete c[a],!0}return!1}};function w(c,a,_){if(c!=null&&typeof c=="object"){if(c[he])return c;let $=M(c);if($)return c;let d=0;if(a[0]===gt){let D=0,O=a.length;for(;D<O&&a[D]===gt;)d++,D++}else _.awLevel&&(d=_.awLevel);if(d!==1&&!$&&(c=H(_.id+wn+a,c,_.storeId,!0),d&&d>1)){let D=M(c);D&&!D.awLevel&&(D.awLevel=d-1)}}return c}function H(c,a,_,$=!1){const d=g(c);if(d)if(a&&$){const J=c;for(;t++,c=J+kn+t,!!r.get(c););}else return d;let D;u(a)?D=be(a,c,Q.Array,_):D=be(a,c,Q.Object,_),R({type:"!NEW",objectId:c,objectType:D.type});const O=new Proxy(a,S);return E(c,O,_),O}return m;function B(c){const a=c.priority;s.insert((_,$)=>{if(!$||a<=$.priority)return c})}function F(c,a){let _="";if(u(c)?_=c.map($=>{if(typeof $=="object"){const d=M($);if(d){const D=d.id;if(a){const O=a.length+1;if(D.length>O&&D.slice(0,O)===a+"/")return D.slice(O)}return D.replace(/\//g,Cn)}else return I("Invalid id param: not a trax object"),Y()}return""+$}).join(Pn):_=c,_.match(mt)){const $=_.replace(mt,"");I(`Invalid trax id: ${_} (changed into ${$})`),_=$}return _}function Y(){return""+Math.floor(Math.random()*1e5)}function G(c,a,_){let $=F(c,a);return _?a+Ue+$:a+In+$}function K(c,a){if(c){_(c.computedContent)&&(c.computedContent=void 0);const $=c.computedProps;$&&a&&_($[a])&&($[a]=void 0)}function _($){return!!($&&!i.has($))}}function I(c){v.error("[TRAX] "+c)}function R(c){c.type===C.Error?I(""+c.data):c.type===C.Info?v.info(""+c.data):v.event(c.type,c,e)}function V(c){return v.startProcessingContext(c,e)}function oe(c,a){const _=c.propListeners;if(_)for(const $ of _)$.notifyChange(c.id,a)&&B($)}function b(c){if(c.lastContentProcessorCheck!==y&&(c.lastContentProcessorCheck=y,c.contentProcessors))for(const a of c.contentProcessors)a.compute(!1,"TargetRead")}function j(){!h&&globalThis.__TRAX_DEVTOOLS__&&(h=!0,console.log("[Trax] DevTools detected"),globalThis.__TRAX_DEVTOOLS__.connectTrax(m))}function g(c){const a=r.get(c);return a&&a.deref()||null}function E(c,a,_){r.set(c,new WeakRef(a)),W(c,_)}function x(c,a,_){if(a&&Tn(a),_){if(_.contentProcessors){for(const $ of _.contentProcessors)$.dispose();_.contentProcessors=void 0}te(c,_.storeId)}return R({type:"!DEL",objectId:c}),r.delete(c)}function W(c,a){let _=o.get(a);_||(_=new Set,o.set(a,_)),_.add(c)}function te(c,a){let _=o.get(a);_&&_.delete(c)}function X(c,a,_,$){const d=Ye(c,a,!0);let D,O=!0,J=!1;const ce=V({type:"!PCS",name:"!StoreInit",storeId:d}),ve=typeof _=="function"?_:P=>{P.init(_)},ye={get id(){return d},get root(){return D},get disposed(){return J},createStore(P,T){const A=X(P,d,T,Yt);return W(A.id,d),A},init(P,T){return O?D=De(me,P,!0,T):I(`(${d}) Store.init can only be called during the store init phase`),D},add(P,T,A){return De(P,T,!1,A)},get(P){const T=G(P,d,!1);return g(T)||void 0},remove(P){const T=M(P);let A="";if(T)if(A=T.id,T.type===Q.Processor)I(`(${A}) Processors cannot be disposed through store.remove()`);else if(T.type===Q.Store)I(`(${A}) Stores cannot be disposed through store.remove()`);else if(A.slice(d.length+1)===me)I(`(${A}) Root objects cannot be disposed through store.remove()`);else return x(A,P,T);return!1},compute(P,T,A,L){let U=G(P,d,!0);return Ze(U,"",T,null,A,L)},getProcessor(P){const T=G(P,d,!0);return i.get(T)},getStore(P){const T=Ye(P,d,!1);return n.get(T)},dispose(){return Ee()},async(P,T){let A="[ASYNC]",L;typeof P=="string"?(A=P,L=T):L=P;const U=Ge(L,()=>v.startProcessingContext({name:d+"."+A+"()",storeId:d}),q=>{I(`(${d}.${A}) error: ${q}`)});return U.updateAsyncName=q=>{A=q},U}};be(ye,d,Q.Store,""),R({type:"!NEW",objectId:d,objectType:Q.Store}),n.set(d,ye);function Ee(){if(J)return!1;n.delete(d),J=!0,$&&$(d);const P=o.get(d);if(P){o.delete(d);const T=d.length;let A,L;for(const U of P)L=void 0,A=U.charAt(T),A===bt?(L=n.get(U),L&&L.dispose()):A===Ue?(L=i.get(U),L&&L.dispose()):x(U)}return R({type:"!DEL",objectId:d}),!0}function Yt(P){te(P,d)}function Zt(P){i.delete(P)&&(l--,te(P,d))}function Qt(P){const T=P;for(const A of Object.keys(T))if(typeof T[A]=="function"){const L=T[A];typeof L.updateAsyncName=="function"?L.updateAsyncName(A):T[A]=Ge(L,()=>v.startProcessingContext({name:d+"."+A+"()",storeId:d}),U=>{I(`(${d}.${A}) error: ${U}`)})}}let ne;try{ne=ve(ye),O=!1,ne!==void 0&&(ne!==null&&typeof ne=="object"?Qt(ne):(I(`createStore init function must return a valid object (${d})`),ne={}))}catch(P){I(`createStore init error (${d}): ${P}`),ne={}}if(O=!1,en(),ne===void 0)return ce.end(),ye;const ae=ne;if(typeof ae.dispose=="function"){const P=ae.dispose;ae.dispose=()=>{P.call(ne),Ee()}}else ae.dispose=Ee;return ae.id&&I(`Store id will be overridden and must not be provided by init function (${d})`),ae.id=d,ce.end(),ae;function en(){D==null&&(I(`(${d}) createStore init must define a root object - see also: init()`),D=De(me,{},!0))}function tn(){return J?(I(`(${d}) Stores cannot be used after being disposed`),!1):!0}function Ye(P,T,A=!0){let L=F(P);T!==""&&(L=T+bt+L);let U="";if(A){let q=n.get(L),Z=0;for(;q;)U=""+ ++Z,q=q=n.get(L+U)}return L+U}function De(P,T,A,L){let U=F(P,d);if(A||U===me&&(I("Store.add: Invalid id 'root' (reserved)"),U=Y()),tn()){(T==null||typeof T!="object")&&(I(`(${d}) Store.add(${P}): Invalid init object parameter: [${typeof T}]`),T={});const q=H(G(U,d,!1),T,d);if(L!==void 0){const Z=M(q),Qe=[];for(const Oe of Object.getOwnPropertyNames(L)){const nn=`${d}${Ue}${U}[${Oe}]`;Qe.push(Ze(nn,Oe,L[Oe],q,!0,!1))}Z.contentProcessors=Qe}return q}else return T}function Ze(P,T,A,L,U,q){let Z=i.get(P);return Z?(Z.updateComputeFn(A),Z):(f++,l++,Z=Sn(P,T,f,A,p,g,R,V,L,Zt,U,q),be(Z,P,Q.Processor,d),i.set(P,Z),W(P,d),Z)}}}const fe=jn(),St="Preact",xt=new Map;let En=0;function Dn(e,t){return e+":"+t}function On(){return fe.getStore(St)||fe.createStore(St,{})}let An=On();function Ln(e,t,n,r){n.jsx="";let i=xt.get(e);i===void 0?i=1:i++,xt.set(e,i);const o=Dn(e,i);n.id=o;const u=An.compute(o,()=>{try{n.jsx=t(n.props)}catch(f){fe.log.error(`[@traxjs/trax-preact] Processing Error: ${f}`)}},!1,!0);u.onDirty=()=>{queueMicrotask(()=>r(++En))},n.processor=u}function Gt(e,t){function n(o){const[u,f]=_n(0),l=zt({}).current;return l.processor||Ln(e,t,l,f),Mt(()=>function(){l.processor&&(l.processor.dispose(),l.processor=void 0)},[l]),l.props=o,l.processor.compute(!0),l.jsx}const r=e.replace(/\:/g,"_"),i=new Function("fc",`return function ${r}(props){ return fc(props) }`);return Vn(i(n))}function Rn(){var e;return((e=fe.getActiveProcessor())===null||e===void 0?void 0:e.id)||""}function Hn(e,...t){const n=zt({}).current;let r=n.store;return r||(n.store=r=e(...t)),typeof r.dispose=="function"&&Mt(()=>()=>{r==null||r.dispose()},[r]),r}function Bt(e){return Hn(()=>{const t="State["+Rn().replace(/(^[^\/\%]+(\/|\%))|(%)/g,"")+"]";return fe.createStore(t,e)}).root}function Vn(e,t){function n(i){let o=this.props.ref,u=o===i.ref;return!u&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!u:Un(this.props,i)}function r(i){return this.shouldComponentUpdate=n,Ce(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r._forwarded=!0,r}function Un(e,t){for(let n in e)if(n!=="__source"&&!(n in t))return!0;for(let n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function tr(e){const t=Bt({ready:!1,promise:null,value:null});return Jt(t,e)}function Jt(e,t){if(!e.ready&&e.value)return e.ready=!0,e;if(e.ready=!1,e.promise===null)try{const n=e.promise=t();n&&typeof n.then=="function"?n.then(r=>{e.ready=!0,e.value=r,e.promise=null}):(e.ready=!0,e.value=n,e.promise=null)}catch(n){console.error(`[useAsyncRes] Error while calling factory: ${n}`),e.promise=null,e.ready=!1}return e}function Mn(e){const t=Bt({states:{},res:null});if(t.res===null){const n=t.states,r={};Object.getOwnPropertyNames(e).forEach(i=>{r[i]=()=>{let o=n[i];return o||(n[i]={ready:!1,promise:null,value:null},o=n[i]),Jt(o,e[i])}}),t.res=r}return t.res}const qt=ie("asidemo.views.teamview"),Kt=ie("asidemo.views.tasksview");var zn=0;function ee(e,t,n,r,i,o){var u,f,l={};for(f in t)f=="ref"?u=t[f]:l[f]=t[f];var p={type:e,props:l,key:n,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--zn,__source:i,__self:o};if(typeof e=="function"&&(u=e.defaultProps))for(f in u)l[f]===void 0&&(l[f]=u[f]);return N.vnode&&N.vnode(p),p}const Fn=Gt("MainLayout",({ns:e})=>{const t=e.data,n=Mn({teamView:()=>re.get(qt),tasksView:()=>re.get(Kt)});return ee("div",{className:"main-layout flex h-screen",children:[ee("div",{className:"w-1/5 h-full max-w-xs min-w-fit",children:ee(Wn,{ns:e})}),ee("div",{className:"flex-1 px-7 pt-56",children:t.view==="404"?ee("div",{children:[" Invalid page: ",t.invalidPath404," "]}):t.view==="tasks"?n.tasksView().ready?Ce(n.tasksView().value,{ns:e}):"":t.view==="team"?n.teamView().ready?Ce(n.teamView().value,{ns:e}):"":t.view==="loading"?ee("div",{children:" Loading... "}):ee("div",{children:" Home "})})]})}),Wn=Gt("NavBar",({ns:e})=>{const t=e.data.view,n=[{text:"Home",view:""},{text:"Team",view:"team"},{text:"Task list",view:"tasks"}],r="block font-semibold cursor-default ",i="block text-fuchsia-300 cursor-pointer";return ee("div",{className:"navbar bg-fuchsia-950 text-white h-full px-7 pt-56",children:n.map(o=>ee("a",{className:o.view===t?r:i,href:o.view,onClick:u=>e.navigate(o.view,u),children:[" ",o.text," "]}))})});const Xe=ie("asidemo.utils.Fetch");async function Gn(e,t){return fetch(e,t)}re.registerService(Xe,()=>Gn);function Bn(){return fe.createStore("FetchService",e=>{const t=e.init({networkDisconnection:!1});let n,r=null;return{data:t,async fetch(i,o){return n||(r||(r=re.get(Xe)),n=await r),n(i,o)}}})}re.registerService(un,Bn);let le="/";const Me=window.location.pathname;if(Me.length>1){const t=Me.slice(1).indexOf("/");t>-1&&(le=Me.slice(0,t+2),console.log("%crootPath: %s","color:#2d7bf0",le))}const Jn=["","team","tasks","404"];function qn(){return fe.createStore("NavService",e=>{const t=e.init({view:"loading",services:{}},{init:function*(r,i){i.maxComputeCount=1;const{id:o,invalidPath404:u}=Pt();n(o,u)}});function n(r,i,o=!1){r==="tasks"?document.title="tasks":r==="team"&&(document.title="team"),t.view=r,t.invalidPath404=r==="404"?i:"",o&&window.history.pushState({},"",le+r)}return window.onpopstate=()=>{const{id:r,invalidPath404:i}=Pt();n(r,i)},{data:t,navigate(r,i){i&&i.preventDefault(),n(r||"","",!0)}}})}function Pt(){const e=window.location.pathname;if(e.slice(0,le.length)!==le)return console.error(`[navservice] Invalid root path: ${e.slice(0,le.length)}"`),{id:"404",invalidPath404:e};let t=e.slice(le.length);return t=t.replace(/\/*$/g,""),Jn.includes(t)?{id:t}:{id:"404",invalidPath404:t}}re.registerService(Vt,qn);async function Kn(e,t){if(e==="/api/team/teamA"){const n={type:"GetTeamResponse",team:{id:"teamA",name:"The A Team",members:[{id:"USR1",firstName:"John (Hannibal)",lastName:"Smith"},{id:"USR2",firstName:"Templeton (Face)",lastName:"Peck"},{id:"USR3",firstName:"H.M. (Howling Mad)",lastName:"Murdock"},{id:"USR4",firstName:"Bosco (B.A.)",lastName:"Baracus"}]}};return new Response(JSON.stringify(n))}else if(e==="/api/tasks/teamA"){const n={type:"GetTasksResponse",tasks:[{id:"T1",description:"Code & Test",completed:!1,createdBy:"USR1"},{id:"T2",description:"Refactor",completed:!1,createdBy:"USR1"},{id:"T4",description:"Deploy",completed:!1,createdBy:"USR1"},{id:"T4",description:"Repeat!",completed:!1,createdBy:"USR1"}]};return new Response(JSON.stringify(n))}else console.log(`Unsupported fetch mock: ${e}`);return fetch(e,t)}re.registerService(Xe,()=>Kn);const Xn="modulepreload",Yn=function(e){return"/"+e},wt={},Xt=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Yn(o),o in wt)return;wt[o]=!0;const u=o.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!r)for(let s=i.length-1;s>=0;s--){const y=i[s];if(y.href===o&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Xn,u||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),u)return new Promise((s,y)=>{p.addEventListener("load",s),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},Zn=ie("asidemo.api.GetTeamAPI"),Qn=ie("asidemo.api.GetTasksAPI");re.registerGroup([ln,Zn,qt],()=>Xt(()=>import("./teamBundle-804c016f.js"),[]));re.registerGroup([fn,Qn,Kt],()=>Xt(()=>import("./tasksBundle-b2d4158b.js"),[]));async function er(){const e=await re.get(Vt);an(ee("div",{className:"text-neutral-600",children:ee(Fn,{ns:e})}),document.getElementById("main"))}er();export{un as F,Zn as G,ln as T,qt as a,fn as b,Qn as c,Kt as d,Gt as j,ee as o,fe as q,tr as u,re as x};
